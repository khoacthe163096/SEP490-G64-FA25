@{
    ViewData["Title"] = "Danh sách nhân viên";
    Layout = "~/vn.fpt.edu.views/Shared/_DashboardLayout.cshtml";
}

<div class="dashboard-container">
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-header">
            <h4>APMMS</h4>
            <p>Quản lý hệ thống</p>
        </div>
        
        <nav class="sidebar-nav">
            <!-- Quản lý người dùng -->
            <div class="nav-section">
                <div class="nav-section-header" data-bs-toggle="collapse" data-bs-target="#userManagement">
                    <i class="fas fa-users"></i>
                    <span>Quản lý người dùng</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="collapse" id="userManagement">
                    <ul class="nav-list">
                        <li><a href="#" class="nav-link active" data-page="employees"><i class="fas fa-user-tie"></i> Danh sách nhân viên</a></li>
                        <li><a href="#" class="nav-link" data-page="users"><i class="fas fa-users"></i> Danh sách người dùng</a></li>
                        <li><a href="#" class="nav-link" data-page="directors"><i class="fas fa-user-shield"></i> Danh sách giám đốc</a></li>
                    </ul>
                </div>
            </div>

            <!-- Quản lý kho -->
            <div class="nav-section">
                <div class="nav-section-header" data-bs-toggle="collapse" data-bs-target="#warehouseManagement">
                    <i class="fas fa-warehouse"></i>
                    <span>Quản lý kho</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="collapse" id="warehouseManagement">
                    <ul class="nav-list">
                        <li><a href="#" class="nav-link" data-page="component-types"><i class="fas fa-tags"></i> Danh sách loại linh kiện</a></li>
                        <li><a href="#" class="nav-link" data-page="components"><i class="fas fa-cogs"></i> Danh sách linh kiện</a></li>
                        <li><a href="#" class="nav-link" data-page="service-packages"><i class="fas fa-box"></i> Danh sách gói dịch vụ</a></li>
                    </ul>
                </div>
            </div>

            <!-- Hóa đơn -->
            <div class="nav-section">
                <div class="nav-section-header">
                    <a href="/Dashboard/Invoices" class="nav-link" style="color: white; text-decoration: none; display: flex; align-items: center; width: 100%;">
                        <i class="fas fa-file-invoice"></i>
                        <span>Danh sách hóa đơn</span>
                    </a>
                </div>
            </div>

            <!-- Bảo dưỡng và sửa chữa -->
            <div class="nav-section">
                <div class="nav-section-header" data-bs-toggle="collapse" data-bs-target="#maintenanceManagement">
                    <i class="fas fa-wrench"></i>
                    <span>Bảo dưỡng & Sửa chữa</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="collapse" id="maintenanceManagement">
                    <ul class="nav-list">
                        <li><a href="#" class="nav-link" data-page="schedules"><i class="fas fa-calendar-alt"></i> Danh sách đặt lịch</a></li>
                        <li><a href="#" class="nav-link" data-page="processes"><i class="fas fa-tasks"></i> Danh sách quá trình</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Top Bar -->
        <div class="top-bar">
            <div class="top-bar-left">
                <button class="sidebar-toggle" id="sidebarToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <h2 id="pageTitle">Danh sách nhân viên</h2>
            </div>
            <div class="top-bar-right">
                <div class="user-info">
                    <span id="userName">Lê Thị Thành Dung</span>
                    <div class="user-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- Content Area -->
        <div class="content-area">
            <!-- Employees Page -->
            <div id="employees-page" class="page-content active">
                <div class="page-header">
                    <div class="page-actions">
                        <button class="btn btn-primary">
                            <i class="fas fa-plus"></i> Thêm mới
                        </button>
                        <button class="btn btn-secondary">
                            <i class="fas fa-edit"></i> Sửa trạng thái
                        </button>
                        <button class="btn btn-outline-secondary">
                            <i class="fas fa-filter"></i> Chọn trạng thái
                        </button>
                        <button class="btn btn-outline-secondary">
                            <i class="fas fa-filter"></i> Chọn chức vụ
                        </button>
                    </div>
                    <div class="search-box">
                        <input type="text" class="form-control" placeholder="Tìm kiếm nhân viên">
                        <i class="fas fa-search"></i>
                    </div>
                </div>

                <div class="table-container">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th><input type="checkbox"></th>
                                <th>STT</th>
                                <th>Tên</th>
                                <th>Mã</th>
                                <th>Email</th>
                                <th>Số điện thoại</th>
                                <th>Chức vụ</th>
                                <th>Tình trạng</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="checkbox"></td>
                                <td>1</td>
                                <td>Bùi Văn Giang</td>
                                <td>V00009</td>
                                <td>technical03@gmail.com</td>
                                <td>0645238452</td>
                                <td>Kỹ Thuật Viên</td>
                                <td><span class="badge bg-success">Có hiệu lực</span></td>
                            </tr>
                            <tr>
                                <td><input type="checkbox"></td>
                                <td>2</td>
                                <td>Bùi Trọng Đạt</td>
                                <td>V00010</td>
                                <td>technical04@gmail.com</td>
                                <td>0548312654</td>
                                <td>Kỹ Thuật Viên</td>
                                <td><span class="badge bg-success">Có hiệu lực</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="pagination-container">
                    <nav>
                        <ul class="pagination">
                            <li class="page-item"><a class="page-link" href="#">&laquo;</a></li>
                            <li class="page-item"><a class="page-link" href="#">&lsaquo;</a></li>
                            <li class="page-item active"><a class="page-link" href="#">1</a></li>
                            <li class="page-item"><a class="page-link" href="#">2</a></li>
                            <li class="page-item"><a class="page-link" href="#">3</a></li>
                            <li class="page-item"><a class="page-link" href="#">&rsaquo;</a></li>
                            <li class="page-item"><a class="page-link" href="#">&raquo;</a></li>
                        </ul>
                    </nav>
                    <div class="items-per-page">
                        <select class="form-select">
                            <option value="5">5</option>
                            <option value="10">10</option>
                            <option value="25">25</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Other pages will be added here -->
            <div id="users-page" class="page-content">
                <h3>Danh sách người dùng</h3>
                <p>Nội dung trang quản lý người dùng sẽ được thêm vào đây.</p>
            </div>

            <div id="directors-page" class="page-content">
                <h3>Danh sách giám đốc</h3>
                <p>Nội dung trang quản lý giám đốc sẽ được thêm vào đây.</p>
            </div>

            <div id="component-types-page" class="page-content">
                <h3>Danh sách loại linh kiện</h3>
                <p>Nội dung trang quản lý loại linh kiện sẽ được thêm vào đây.</p>
            </div>

            <div id="components-page" class="page-content">
                <h3>Danh sách linh kiện</h3>
                <p>Nội dung trang quản lý linh kiện sẽ được thêm vào đây.</p>
            </div>

            <div id="service-packages-page" class="page-content">
                <h3>Danh sách gói dịch vụ</h3>
                <p>Nội dung trang quản lý gói dịch vụ sẽ được thêm vào đây.</p>
            </div>

            <div id="schedules-page" class="page-content">
                <h3>Danh sách đặt lịch</h3>
                <p>Nội dung trang quản lý đặt lịch sẽ được thêm vào đây.</p>
            </div>

            <div id="processes-page" class="page-content">
                <h3>Danh sách quá trình</h3>
                <p>Nội dung trang quản lý quá trình sẽ được thêm vào đây.</p>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // Sidebar toggle
        document.getElementById('sidebarToggle').addEventListener('click', function() {
            document.querySelector('.sidebar').classList.toggle('collapsed');
        });

        // Navigation
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                // Check if this is an external link (has href starting with /)
                if (this.getAttribute('href') && this.getAttribute('href').startsWith('/')) {
                    // Allow external links to work normally
                    return;
                }
                
                e.preventDefault();
                
                // Remove active class from all links
                document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                
                // Add active class to clicked link
                this.classList.add('active');
                
                // Hide all pages
                document.querySelectorAll('.page-content').forEach(page => {
                    page.classList.remove('active');
                });
                
                // Show selected page
                const pageId = this.getAttribute('data-page') + '-page';
                const page = document.getElementById(pageId);
                if (page) {
                    page.classList.add('active');
                }
                
                // Update page title
                const pageTitle = this.textContent.trim();
                document.getElementById('pageTitle').textContent = pageTitle;
            });
        });
    </script>
}